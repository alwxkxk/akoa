# 消息系统
## 需求
- 给普通用户提供的功能：上线查看删除消息，回复用户消息
- 给管理员提供的功能：编辑系统消息，给普通用户发送用户消息

```puml
class message{
  id
  title
  content
  edit()
}

class systemMessage{
  lastTime
  trigger
  sendTo()
  reply()
}

class userMessage{
  sender
  reciever
  refer
  reply()
}

message <|-- systemMessage
message <|-- userMessage

```
## 系统消息
系统消息由管理员提前编辑，系统根据触发条件向用户自动发送：
1. 注册后初次登陆 （如提醒设置邮箱）
2. 登陆异常

## 用户消息
由管理员手动发送给用户的消息，用户可以回复。
每隔一段时间就会把refer为零的消息删除。

## 用户接收消息
用户数据库里拥有一列用于存放消息id及其阅读状态。

